<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
	<head>
	    <meta charset="utf-8">
	    <title>Sound Board</title>
	</head>
	<body>

	<div class="container">
	    <div class="header">
	        <h1>Welcome to the ~soundboard~</h1>
	    </div>
	    <div class="main">
        <p>This is a piano..... kind of.</p>
        <br/>
        <div class="button-container">
  	    	<button class="incr-vel">Hit Note Harder</button>
          <button class="decr-vel">Hit Note Softer</button>
          <button class="incr-note">Increase Note</button>
          <button class="decr-note">Decrease Note</button>
        </div>
	    </div>
	    <div id="footer"></div>
	</div>

	<script src="./primus.js" type="text/javascript"></script>
  <script src="//code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		
    var noisemakerServerAddr = 'http://localhost:8080';
    //eik globals! kill these.
    var pool, rank;

    $(document).ready(function(){
      
      /*Getting Pool and Rank assignments*/
      $.get(noisemakerServerAddr + '/assignment', function(data){
        pool = data.pool;
        rank = data.rank;
      });

			var primus = Primus.connect('http://localhost:8080');
			primus.on('open', function () {
			  primus.send('soundboard join');
        console.log('successfully joined sound controller room!');
			});

			$('.incr-vel').click(function(){
        primus.send('hit note harder');
        console.log('hit note harder event fired');
			});

      $('.decr-vel').click(function(){
        primus.send('hit note softer');
        console.log('hit note softer event fired');
      });

      $('.incr-note').click(function(){
        primus.send('increase note');
        console.log('increase note event fired');
      });

      $('.decr-note').click(function(){
        primus.send('decrease note');
        console.log('decrease note event fired');
      });

		});
	</script>

	</body>
</html>
